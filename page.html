<!DOCTYPE html>
<html>
    <head><title>Color picker</title>
    <p><button>Picker</button></p>
    <link href="color-picker.min.css" rel="stylesheet">
    <label for="lab">LAB</label>
    <label>L<input type= "number" id="l_value" name="l_value" min="0" max="100"></label>
    <label>A<input type= "number" id="a_value" name="a_value" min="-128" max="127"></label>
    <label>B<input type= "number" id="b_value" name="b_value" min="-128" max="127"></label>
        
    <label for="hsv">HSV</label>
    <label>H<input type= "number" id="hue_value" name="hue_value" min="0" max="360"></label>
    <label>S<input type= "number" id="saturation_value" name="saturation_value" min="0" max="1" step="0.01"></label>
    <label>V<input type= "number" id="val_value" name="val_value" min="0" max="1" step="0.01"></label>

    <label for="cmyk">CMYK</label>
    <label>C<input type= "number" id="c_value" name="c_value" min="0" max="1" step="0.01"></label>
    <label>M<input type= "number" id="m_value" name="m_value" min="0" max="1" step="0.01"></label>
    <label>Y<input type= "number" id="y_value" name="y_value" min="0" max="1" step="0.01"></label>
    <label>K<input type= "number" id="k_value" name="k_value" min="0" max="1" step="0.01"></label>

    <script type="text/javascript">
    
    </script>
    <style type="text/css">
    body{
        font-family: Arial, Helvetica, sans-serif;
    }
        .picker_lab{
            position: absolute;
            top:-600px;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
            width: 500px;
            height: 120px;
        }
        p button{
            width: 100px;
            height: 50px;
            font-size: 30px;
        }

        p{
            margin-top: 50px;
           
            width: 100px;
            margin-right: 300px;
            font-size: 30px;
            margin-left: 50px;
            
        
        }

        label[for=lab]{
            margin-left: 100px;
            color:black;
            outline: 2px dashed blue;
            width: 35px;
        }

        label[for=hsv]{
            margin-top: 60px;
            margin-left: 100px;
            color:black;
            outline: 2px dashed blue;
            width: 35px;
        }

        label[for=cmyk]{
            margin-left: 100px;
            margin-top: 60px;
            color:black;
            outline: 2px dashed blue;
            width: 50px;
        }

        label{
            margin-bottom: 5px;
            display: grid;
            grid-template-columns: 2fr 80fr;
            margin-left: 80px;
        }

        input[type=number] {
            width: 80px;
            
            box-sizing: border-box;  
        }

        .picker_hsv{
            position: absolute;
            top:280px;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
            width: 500px;
            height: 120;
        }

        .picker_cmyk{
            position: absolute;
            top: 0px;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
            width: 500px;
            height: 120px;
        }


        #display{
            width: 100%;
            height: 800px;
            background:#ff0004;
            margin-top: -600px;
            border: 1px solid #000;

        }

        input{
            display: block;
            width: 100%;
        }
    
    </style>
    </head>
<body>
    <div class="picker_lab">
        L <input type="range" min="0" max="100" step="1" id="l" value="53">
        A <input type="range" min="-128" max="127" step="1" id="a" value="81">
        B <input type="range" min="-128" max="127" step="1" id="b" value="66">
    </div>


    <div class="picker_hsv">
        Hue <input type="range" min="0" max="360" step="1" id="hue" value="359">
        Saturation <input type="range" min="0" max="1" step="0.01" id="saturation" value="1">
        Value <input type="range" min="0" max="1" step="0.01" id="value" value="1">
    </div>

    <div class="picker_cmyk">
        C <input type="range" min="0" max="1" step="0.01" id="c" value="0">
        M <input type="range" min="0" max="1" step="0.01" id="m" value="100">
        Y <input type="range" min="0" max="1" step="0.01" id="y" value="98">
        K <input type="range" min="0" max="1" step="0.01" id="k" value="1">
    </div>

    <div id="display"></div>

    
    <script src="color-picker.min.js"></script>
    <script>
    var picker = new CP(document.querySelector('p'));
    picker.on("change", function(color) {      
        this.source.value = '#' + color;
        color_rgb = hex2rgb(color);
        
        color_hsv = rgb2hsv(color_rgb[0], color_rgb[1], color_rgb[2]);
        color_cmyk = rgb2cmyk(color_rgb[0], color_rgb[1], color_rgb[2]);
        color_lab = rgb2lab(color_rgb[0], color_rgb[1], color_rgb[2]);

        document.getElementById("l_value").value = parseFloat(color_lab[0]).toFixed(2);
        document.getElementById("a_value").value = parseFloat(color_lab[1]).toFixed(2);
        document.getElementById("b_value").value = parseFloat(color_lab[2]).toFixed(2);
        document.getElementById("l").value = color_lab[0];
        document.getElementById("a").value = color_lab[1];
        document.getElementById("b").value = color_lab[2];

        
        document.getElementById("hue_value").value =  parseFloat(color_hsv[0]).toFixed(2);
        document.getElementById("saturation_value").value = parseFloat(color_hsv[1]).toFixed(2);
        document.getElementById("val_value").value = parseFloat(color_hsv[2]).toFixed(2);
        document.getElementById("hue").value = color_hsv[0];
        document.getElementById("saturation").value = color_hsv[1];
        document.getElementById("value").value = color_hsv[2];
 
            document.getElementById("c_value").value = parseFloat(color_cmyk[0]).toFixed(2);
            document.getElementById("m_value").value = parseFloat(color_cmyk[1]).toFixed(2);
            document.getElementById("y_value").value = parseFloat(color_cmyk[2]).toFixed(2);
            document.getElementById("k_value").value = parseFloat(color_cmyk[3]).toFixed(2);
            document.getElementById("c").value = color_cmyk[0];
            document.getElementById("m").value = color_cmyk[1];
            document.getElementById("y").value = color_cmyk[2];
            document.getElementById("k").value = color_cmyk[3];

            
            var display = document.getElementById("display");
            display.style.background = "rgb(" + color_rgb[0]+", "+color_rgb[1]+", "+color_rgb[2]+")"; 

    });
    </script>

    <script>
        
        var l_value_input = document.getElementById("l_value")
        l_value_input.addEventListener("change", function(){
            var l_val = l_value_input.value;
            if(l_val > 100){l_val=100;}
            else if (l_val < 0){l_val=0;}; 

            if(l_val.length==0){
                l_val = 53;
            }

            l_value_input.value = parseFloat(l_val).toFixed(2);
            document.getElementById("l").value = l_val;
            var a_value = parseFloat(document.getElementById("a").value);
            var b_value = parseFloat(document.getElementById("b").value);

            colors_hsv_rgb = lab_to_hsv(l_val, a_value, b_value);
            color_cmyk = rgb2cmyk(colors_hsv_rgb[1][0],colors_hsv_rgb[1][1],colors_hsv_rgb[1][2]);

            var h = colors_hsv_rgb[0][0], s = colors_hsv_rgb[0][1], v = colors_hsv_rgb[0][2];
            var c = color_cmyk[0], m=color_cmyk[1], y=color_cmyk[2], k=color_cmyk[3];

            document.getElementById("hue_value").value = parseFloat(h).toFixed(2);
            document.getElementById("saturation_value").value = parseFloat(s).toFixed(2);
            document.getElementById("val_value").value = parseFloat(v).toFixed(2);
            document.getElementById("hue").value = h
            document.getElementById("saturation").value = s;
            document.getElementById("value").value = v;

            document.getElementById("c_value").value = parseFloat(c).toFixed(2);
            document.getElementById("m_value").value = parseFloat(m).toFixed(2);
            document.getElementById("y_value").value = parseFloat(y).toFixed(2);
            document.getElementById("k_value").value = parseFloat(k).toFixed(2);
            document.getElementById("c").value = c;
            document.getElementById("m").value = m;
            document.getElementById("y").value = y;
            document.getElementById("k").value = k;
            var display = document.getElementById("display");
            display.style.background = "rgb(" + colors_hsv_rgb[1][0]+", "+colors_hsv_rgb[1][1]+", "+colors_hsv_rgb[1][2]+")"; 
        })

        var a_value_input = document.getElementById("a_value");
            a_value_input.addEventListener("change", function(){
            var a_val = a_value_input.value;
            if(a_val > 127){a_val=127;}
            else if (a_val < -128){a_val=-128;}; 

            if(a_val.length==0){
                a_val = 81;
            }

            a_value_input.value = parseFloat(a_val).toFixed(2);
            document.getElementById("a").value = a_val;
            var l_value = parseFloat(document.getElementById("l").value);
            var b_value = parseFloat(document.getElementById("b").value);

            colors_hsv_rgb = lab_to_hsv(l_value, a_val, b_value);
            color_cmyk = rgb2cmyk(colors_hsv_rgb[1][0],colors_hsv_rgb[1][1],colors_hsv_rgb[1][2]);

            var h = colors_hsv_rgb[0][0], s = colors_hsv_rgb[0][1], v = colors_hsv_rgb[0][2];
            var c = color_cmyk[0], m=color_cmyk[1], y=color_cmyk[2], k=color_cmyk[3];

            document.getElementById("hue_value").value = parseFloat(h).toFixed(2);
            document.getElementById("saturation_value").value = parseFloat(s).toFixed(2);
            document.getElementById("val_value").value = parseFloat(v).toFixed(2);
            document.getElementById("hue").value = h
            document.getElementById("saturation").value = s;
            document.getElementById("value").value = v;

            document.getElementById("c_value").value = parseFloat(c).toFixed(2);
            document.getElementById("m_value").value = parseFloat(m).toFixed(2);
            document.getElementById("y_value").value = parseFloat(y).toFixed(2);
            document.getElementById("k_value").value = parseFloat(k).toFixed(2);
            document.getElementById("c").value = c;
            document.getElementById("m").value = m;
            document.getElementById("y").value = y;
            document.getElementById("k").value = k;
            var display = document.getElementById("display");
            display.style.background = "rgb(" + colors_hsv_rgb[1][0]+", "+colors_hsv_rgb[1][1]+", "+colors_hsv_rgb[1][2]+")";     
        })

        var b_value_input = document.getElementById("b_value");
            b_value_input.addEventListener("change", function(){
            var b_val = b_value_input.value;
            if(b_val > 127){b_val=127;}
            else if (b_val < -128){b_val=-128;}; 

            if(b_val.length==0){
                b_val = 66;
            }

            b_value_input.value = parseFloat(b_val).toFixed(2);
            document.getElementById("b").value = b_val;
            var l_value = parseFloat(document.getElementById("l").value);
            var a_value = parseFloat(document.getElementById("a").value);

            colors_hsv_rgb = lab_to_hsv(l_value, a_value, b_val);
            color_cmyk = rgb2cmyk(colors_hsv_rgb[1][0],colors_hsv_rgb[1][1],colors_hsv_rgb[1][2]);

            var h = colors_hsv_rgb[0][0], s = colors_hsv_rgb[0][1], v = colors_hsv_rgb[0][2];
            var c = color_cmyk[0], m=color_cmyk[1], y=color_cmyk[2], k=color_cmyk[3];

            document.getElementById("hue_value").value = parseFloat(h).toFixed(2);
            document.getElementById("saturation_value").value = parseFloat(s).toFixed(2);
            document.getElementById("val_value").value = parseFloat(v).toFixed(2);
            document.getElementById("hue").value = h
            document.getElementById("saturation").value = s;
            document.getElementById("value").value = v;

            document.getElementById("c_value").value = parseFloat(c).toFixed(2);
            document.getElementById("m_value").value = parseFloat(m).toFixed(2);
            document.getElementById("y_value").value = parseFloat(y).toFixed(2);
            document.getElementById("k_value").value = parseFloat(k).toFixed(2);
            document.getElementById("c").value = c;
            document.getElementById("m").value = m;
            document.getElementById("y").value = y;
            document.getElementById("k").value = k;
            var display = document.getElementById("display");
            display.style.background = "rgb(" + colors_hsv_rgb[1][0]+", "+colors_hsv_rgb[1][1]+", "+colors_hsv_rgb[1][2]+")";     
        })

        var h_value_input = document.getElementById("hue_value");
            h_value_input.addEventListener("change", function(){
            var h_val = h_value_input.value;
            if(h_val > 360){h_val=360;}
            else if (h_val < 0){h_val=0;}; 

            if(h_val.length==0){
                h_val = 359;
            }

            h_value_input.value = parseFloat(h_val).toFixed(2);
            document.getElementById("hue").value = h_val;
            var saturation_value = parseFloat(document.getElementById("saturation").value);
            var val_value = parseFloat(document.getElementById("value").value);

            colors_lab_rgb = hsv_to_lab(h_val, saturation_value, val_value);
            color_cmyk = rgb2cmyk(colors_lab_rgb[1][0],colors_lab_rgb[1][1],colors_lab_rgb[1][2]);

            var l = colors_lab_rgb[0][0], a = colors_lab_rgb[0][1], b = colors_lab_rgb[0][2];
            var c = color_cmyk[0], m=color_cmyk[1], y=color_cmyk[2], k=color_cmyk[3];

            document.getElementById("l_value").value = parseFloat(l).toFixed(2);
            document.getElementById("a_value").value = parseFloat(a).toFixed(2);
            document.getElementById("b_value").value = parseFloat(b).toFixed(2);
            document.getElementById("l").value = l;
            document.getElementById("a").value = a;
            document.getElementById("b").value = b;


            document.getElementById("c_value").value = parseFloat(c).toFixed(2);
            document.getElementById("m_value").value = parseFloat(m).toFixed(2);
            document.getElementById("y_value").value = parseFloat(y).toFixed(2);
            document.getElementById("k_value").value = parseFloat(k).toFixed(2);
            document.getElementById("c").value = c;
            document.getElementById("m").value = m;
            document.getElementById("y").value = y;
            document.getElementById("k").value = k;
            
            
            var display = document.getElementById("display");
            display.style.background = "rgb(" + colors_lab_rgb[1][0]+", "+colors_lab_rgb[1][1]+", "+colors_lab_rgb[1][2]+")";     
        })

        var s_value_input = document.getElementById("saturation_value");
            s_value_input.addEventListener("change", function(){
            var s_val = s_value_input.value;
            if(s_val > 1){s_val=1;}
            else if (s_val < 0){s_val=0;};

            if(s_val.length==0){
                s_val = 1;
            } 

            s_value_input.value = parseFloat(s_val).toFixed(2);
            document.getElementById("saturation").value = s_val;
            var hue_value = parseFloat(document.getElementById("hue").value);
            var val_value = parseFloat(document.getElementById("value").value);

            colors_lab_rgb = hsv_to_lab(hue_value, s_val, val_value);
            color_cmyk = rgb2cmyk(colors_lab_rgb[1][0],colors_lab_rgb[1][1],colors_lab_rgb[1][2]);

            var l = colors_lab_rgb[0][0], a = colors_lab_rgb[0][1], b = colors_lab_rgb[0][2];
            var c = color_cmyk[0], m=color_cmyk[1], y=color_cmyk[2], k=color_cmyk[3];

            document.getElementById("l_value").value = parseFloat(l).toFixed(2);
            document.getElementById("a_value").value = parseFloat(a).toFixed(2);
            document.getElementById("b_value").value = parseFloat(b).toFixed(2);
            document.getElementById("l").value = l;
            document.getElementById("a").value = a;
            document.getElementById("b").value = b;


            document.getElementById("c_value").value = parseFloat(c).toFixed(2);
            document.getElementById("m_value").value = parseFloat(m).toFixed(2);
            document.getElementById("y_value").value = parseFloat(y).toFixed(2);
            document.getElementById("k_value").value = parseFloat(k).toFixed(2);
            document.getElementById("c").value = c;
            document.getElementById("m").value = m;
            document.getElementById("y").value = y;
            document.getElementById("k").value = k;
            
            
            var display = document.getElementById("display");
            display.style.background = "rgb(" + colors_lab_rgb[1][0]+", "+colors_lab_rgb[1][1]+", "+colors_lab_rgb[1][2]+")";     
        })

        var v_value_input = document.getElementById("val_value");
            v_value_input.addEventListener("change", function(){
            var v_val = v_value_input.value;
            if(v_val > 1){v_val=1;}
            else if (v_val < 0){v_val=0;}; 

            if(v_val.length==0){
                v_val = 1;
            } 

            v_value_input.value = parseFloat(v_val).toFixed(2);
            document.getElementById("value").value = v_val;
            var hue_value = parseFloat(document.getElementById("hue").value);
            var saturation_value = parseFloat(document.getElementById("saturation").value);

            colors_lab_rgb = hsv_to_lab(hue_value, saturation_value, v_val);
            color_cmyk = rgb2cmyk(colors_lab_rgb[1][0],colors_lab_rgb[1][1],colors_lab_rgb[1][2]);

            var l = colors_lab_rgb[0][0], a = colors_lab_rgb[0][1], b = colors_lab_rgb[0][2];
            var c = color_cmyk[0], m=color_cmyk[1], y=color_cmyk[2], k=color_cmyk[3];

            document.getElementById("l_value").value = parseFloat(l).toFixed(2);
            document.getElementById("a_value").value = parseFloat(a).toFixed(2);
            document.getElementById("b_value").value = parseFloat(b).toFixed(2);
            document.getElementById("l").value = l;
            document.getElementById("a").value = a;
            document.getElementById("b").value = b;


            document.getElementById("c_value").value = parseFloat(c).toFixed(2);
            document.getElementById("m_value").value = parseFloat(m).toFixed(2);
            document.getElementById("y_value").value = parseFloat(y).toFixed(2);
            document.getElementById("k_value").value = parseFloat(k).toFixed(2);
            document.getElementById("c").value = c;
            document.getElementById("m").value = m;
            document.getElementById("y").value = y;
            document.getElementById("k").value = k;
            
            
            var display = document.getElementById("display");
            display.style.background = "rgb(" + colors_lab_rgb[1][0]+", "+colors_lab_rgb[1][1]+", "+colors_lab_rgb[1][2]+")";     
        })

        var c_value_input = document.getElementById("c_value");
            c_value_input.addEventListener("change", function(){
            var c_val = c_value_input.value;
            if(c_val > 1){c_val=1;}
            else if (c_val < 0){c_val=0;};

            if(c_val.length==0){
                c_val = 0;
            }  

            c_value_input.value = parseFloat(c_val).toFixed(2);
            document.getElementById("c").value = c_val;

            var m_value = parseFloat(document.getElementById("m").value);
            var y_value = parseFloat(document.getElementById("y").value);
            var k_value = parseFloat(document.getElementById("k").value);

            colors = cmyk_to_all(c_val*255, m_value*255, y_value*255, k_value*255);
                        
            var r = colors[0][0], g = colors[0][1], b = colors[0][2];
            var h = colors[1][0], s = colors[1][1], v = colors[1][2];
            var l = colors[2][0], a = colors[2][1], b_ = colors[2][2];

            document.getElementById("l_value").value = parseFloat(l).toFixed(2);
            document.getElementById("a_value").value = parseFloat(a).toFixed(2);
            document.getElementById("b_value").value = parseFloat(b_).toFixed(2);
            document.getElementById("l").value = l;
            document.getElementById("a").value = a;
            document.getElementById("b").value = b_;

            document.getElementById("hue_value").value = parseFloat(h).toFixed(2);
            document.getElementById("saturation_value").value = parseFloat(s).toFixed(2);
            document.getElementById("val_value").value = parseFloat(v).toFixed(2);
            document.getElementById("hue").value = h
            document.getElementById("saturation").value = s;
            document.getElementById("value").value = v;
            
            var display = document.getElementById("display");
            display.style.background = "rgb(" + r+", "+g+", "+b+")";     
        })

        var m_value_input = document.getElementById("m_value");
            m_value_input.addEventListener("change", function(){
            var m_val = m_value_input.value;
            if(m_val > 1){m_val=1;}
            else if (m_val < 0){m_val=0;}; 

            if(m_val.length==0){
                m_val = 1;
            }  

            m_value_input.value = parseFloat(m_val).toFixed(2);
            document.getElementById("m").value = m_val;

            var c_value = parseFloat(document.getElementById("c").value);
            var y_value = parseFloat(document.getElementById("y").value);
            var k_value = parseFloat(document.getElementById("k").value);

            colors = cmyk_to_all(c_value*255, m_val*255, y_value*255, k_value*255);
                        
            var r = colors[0][0], g = colors[0][1], b = colors[0][2];
            var h = colors[1][0], s = colors[1][1], v = colors[1][2];
            var l = colors[2][0], a = colors[2][1], b_ = colors[2][2];

            document.getElementById("l_value").value = parseFloat(l).toFixed(2);
            document.getElementById("a_value").value = parseFloat(a).toFixed(2);
            document.getElementById("b_value").value = parseFloat(b_).toFixed(2);
            document.getElementById("l").value = l;
            document.getElementById("a").value = a;
            document.getElementById("b").value = b_;

            document.getElementById("hue_value").value = parseFloat(h).toFixed(2);
            document.getElementById("saturation_value").value = parseFloat(s).toFixed(2);
            document.getElementById("val_value").value = parseFloat(v).toFixed(2);
            document.getElementById("hue").value = h
            document.getElementById("saturation").value = s;
            document.getElementById("value").value = v;
            
            var display = document.getElementById("display");
            display.style.background = "rgb(" + r+", "+g+", "+b+")";     
        })

        var y_value_input = document.getElementById("y_value");
            y_value_input.addEventListener("change", function(){
            var y_val = y_value_input.value;
            if(y_val > 1){y_val=1;}
            else if (y_val < 0){y_val=0;}; 

            if(y_val.length==0){
                y_val = 0.98;
            }  

            y_value_input.value = parseFloat(y_val).toFixed(2);
            document.getElementById("y").value = y_val;

            var c_value = parseFloat(document.getElementById("c").value);
            var m_value = parseFloat(document.getElementById("m").value);
            var k_value = parseFloat(document.getElementById("k").value);

            colors = cmyk_to_all(c_value*255, m_value*255, y_val*255, k_value*255);
                        
            var r = colors[0][0], g = colors[0][1], b = colors[0][2];
            var h = colors[1][0], s = colors[1][1], v = colors[1][2];
            var l = colors[2][0], a = colors[2][1], b_ = colors[2][2];

            document.getElementById("l_value").value = parseFloat(l).toFixed(2);
            document.getElementById("a_value").value = parseFloat(a).toFixed(2);
            document.getElementById("b_value").value = parseFloat(b_).toFixed(2);
            document.getElementById("l").value = l;
            document.getElementById("a").value = a;
            document.getElementById("b").value = b_;

            document.getElementById("hue_value").value = parseFloat(h).toFixed(2);
            document.getElementById("saturation_value").value = parseFloat(s).toFixed(2);
            document.getElementById("val_value").value = parseFloat(v).toFixed(2);
            document.getElementById("hue").value = h
            document.getElementById("saturation").value = s;
            document.getElementById("value").value = v;
            
            var display = document.getElementById("display");
            display.style.background = "rgb(" + r+", "+g+", "+b+")";     
        })

        var k_value_input = document.getElementById("k_value");
            k_value_input.addEventListener("change", function(){
            var k_val = k_value_input.value;
            if(k_val > 1){k_val=1;}
            else if (k_val < 0){k_val=0;};

            if(k_val.length==0){
                k_val = 1;
            }  

            k_value_input.value = parseFloat(k_val).toFixed(2);
            document.getElementById("k").value = k_val;

            var c_value = parseFloat(document.getElementById("c").value);
            var m_value = parseFloat(document.getElementById("m").value);
            var y_value = parseFloat(document.getElementById("y").value);

            colors = cmyk_to_all(c_value*255, m_value*255, y_value*255, k_val*255);
                        
            var r = colors[0][0], g = colors[0][1], b = colors[0][2];
            var h = colors[1][0], s = colors[1][1], v = colors[1][2];
            var l = colors[2][0], a = colors[2][1], b_ = colors[2][2];

            document.getElementById("l_value").value = parseFloat(l).toFixed(2);
            document.getElementById("a_value").value = parseFloat(a).toFixed(2);
            document.getElementById("b_value").value = parseFloat(b_).toFixed(2);
            document.getElementById("l").value = l;
            document.getElementById("a").value = a;
            document.getElementById("b").value = b_;

            document.getElementById("hue_value").value = parseFloat(h).toFixed(2);
            document.getElementById("saturation_value").value = parseFloat(s).toFixed(2);
            document.getElementById("val_value").value = parseFloat(v).toFixed(2);
            document.getElementById("hue").value = h
            document.getElementById("saturation").value = s;
            document.getElementById("value").value = v;
            
            var display = document.getElementById("display");
            display.style.background = "rgb(" + r+", "+g+", "+b+")";     
        })


    </script>


    <script type="text/javascript">
        var input = document.getElementsByClassName("picker_lab");

        for(var i = 0; i<input.length; i++){
            input[i].addEventListener("input", function(){
                var l = document.getElementById("l").value,
                    a = document.getElementById("a").value,
                    b = document.getElementById("b").value;
            
            
           
            document.getElementById("l_value").value = l;
            document.getElementById("a_value").value = a;
            document.getElementById("b_value").value = b;
            
            colors = lab_to_hsv(l, a, b);
            var h = colors[0][0], s = colors[0][1], v = colors[0][2];
            cmyk = rgb2cmyk(colors[1][0],colors[1][1],colors[1][2],colors[1][3]);
            var c = cmyk[0], m=cmyk[1], y=cmyk[2], k=cmyk[3];
            
            document.getElementById("hue_value").value = parseFloat(h).toFixed(2);
            document.getElementById("saturation_value").value = parseFloat(s).toFixed(2);
            document.getElementById("val_value").value = parseFloat(v).toFixed(2);
            document.getElementById("hue").value = h
            document.getElementById("saturation").value = s;
            document.getElementById("value").value = v;

            document.getElementById("c_value").value = parseFloat(c).toFixed(2);
            document.getElementById("m_value").value = parseFloat(m).toFixed(2);
            document.getElementById("y_value").value = parseFloat(y).toFixed(2);
            document.getElementById("k_value").value = parseFloat(k).toFixed(2);
            document.getElementById("c").value = c;
            document.getElementById("m").value = m;
            document.getElementById("y").value = y;
            document.getElementById("k").value = k;

            
            var display = document.getElementById("display");
            display.style.background = "rgb(" + colors[1][0]+", "+colors[1][1]+", "+colors[1][2]+")";    
            });
        }
    </script>

    <script>

        function hex2rgb(hex) {
            var bigint = parseInt(hex, 16);
            var r = (bigint >> 16) & 255;
            var g = (bigint >> 8) & 255;
            var b = bigint & 255;

            return [r, g, b];
        }
        
        function lab2rgb(l_,a_,b_){
            
            var l_ = parseFloat(l_), a_ = parseFloat(a_), b_ = parseFloat(b_);
            var y = (l_ + 16) / 116,
                x = a_ / 500 + y,
                z = y - b_ / 200,
                r, g, b;

            x = 0.95047 * ((x * x * x > 0.008856) ? x * x * x : (x - 16/116) / 7.787);
            y = 1.00000 * ((y * y * y > 0.008856) ? y * y * y : (y - 16/116) / 7.787);
            z = 1.08883 * ((z * z * z > 0.008856) ? z * z * z : (z - 16/116) / 7.787);
        
            r = x *  3.2406 + y * -1.5372 + z * -0.4986;
            g = x * -0.9689 + y *  1.8758 + z *  0.0415;
            b = x *  0.0557 + y * -0.2040 + z *  1.0570;

            r = (r > 0.0031308) ? (1.055 * Math.pow(r, 1/2.4) - 0.055) : 12.92 * r;
            g = (g > 0.0031308) ? (1.055 * Math.pow(g, 1/2.4) - 0.055) : 12.92 * g;
            b = (b > 0.0031308) ? (1.055 * Math.pow(b, 1/2.4) - 0.055) : 12.92 * b;
            
            return [Math.max(0, Math.min(1, r)) * 255, 
                    Math.max(0, Math.min(1, g)) * 255, 
                    Math.max(0, Math.min(1, b)) * 255];
        }

        function rgb2hsv (r,g,b) {
            var computedH = 0;
            var computedS = 0;
            var computedV = 0;
        
       
            var r = parseInt( (''+r).replace(/\s/g,''),10 ); 
            var g = parseInt( (''+g).replace(/\s/g,''),10 ); 
            var b = parseInt( (''+b).replace(/\s/g,''),10 ); 
        
            r=r/255; g=g/255; b=b/255;
            var minRGB = Math.min(r,Math.min(g,b));
            var maxRGB = Math.max(r,Math.max(g,b));
        
    
            if (minRGB==maxRGB) {
            computedV = minRGB;
            return [0,0,computedV];
            }
        
          
            var d = (r==minRGB) ? g-b : ((b==minRGB) ? r-g : b-r);
            var h = (r==minRGB) ? 3 : ((b==minRGB) ? 1 : 5);
            computedH = 60*(h - d/(maxRGB - minRGB));
            computedS = (maxRGB - minRGB)/maxRGB;
            computedV = maxRGB;
            return [computedH,computedS,computedV];
        }

        function lab_to_hsv(l,a,b){
            color_rgb = lab2rgb(l,a,b);
            color_hsv = rgb2hsv(color_rgb[0], color_rgb[1], color_rgb[2]);
            return [color_hsv, color_rgb];
        }

        function mix(a, b, v)
        {
            return (1-v)*a + v*b;
        }

        function hsv2rgb(H, S, V)
        {
            var H = parseFloat(H), S = parseFloat(S), V = parseFloat(V);
            var V2 = V * (1 - S);
            var r  = ((H>=0 && H<=60) || (H>=300 && H<=360)) ? V : ((H>=120 && H<=240) ? V2 : ((H>=60 && H<=120) ? mix(V,V2,(H-60)/60) : ((H>=240 && H<=300) ? mix(V2,V,(H-240)/60) : 0)));
            var g  = (H>=60 && H<=180) ? V : ((H>=240 && H<=360) ? V2 : ((H>=0 && H<=60) ? mix(V2,V,H/60) : ((H>=180 && H<=240) ? mix(V,V2,(H-180)/60) : 0)));
            var b  = (H>=0 && H<=120) ? V2 : ((H>=180 && H<=300) ? V : ((H>=120 && H<=180) ? mix(V2,V,(H-120)/60) : ((H>=300 && H<=360) ? mix(V,V2,(H-300)/60) : 0)));

            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
        }

        function rgb2lab(r,g,b){
            var r = r / 255,
                g = g / 255,
                b = b / 255,
                x, y, z;

            r = (r > 0.04045) ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92;
            g = (g > 0.04045) ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92;
            b = (b > 0.04045) ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92;

            x = (r * 0.4124 + g * 0.3576 + b * 0.1805) / 0.95047;
            y = (r * 0.2126 + g * 0.7152 + b * 0.0722) / 1.00000;
            z = (r * 0.0193 + g * 0.1192 + b * 0.9505) / 1.08883;

            x = (x > 0.008856) ? Math.pow(x, 1/3) : (7.787 * x) + 16/116;
            y = (y > 0.008856) ? Math.pow(y, 1/3) : (7.787 * y) + 16/116;
            z = (z > 0.008856) ? Math.pow(z, 1/3) : (7.787 * z) + 16/116;

            return [(116 * y) - 16, 500 * (x - y), 200 * (y - z)]
        }

        function hsv_to_lab(h,s,v){
            color_rgb = hsv2rgb(h,s,v);
            color_lab = rgb2lab(color_rgb[0],color_rgb[1], color_rgb[2]);
            return [color_lab, color_rgb];
        }
    
        function rgb2cmyk(r,g,b){
            r = r/255, g = g/255, b=b/255;
            var k = 1 - Math.max(r,g,b),
                c = (1-r-k)/(1-k),
                m = (1-g-k)/(1-k),
                y = (1-b-k)/(1-k);
            return [c,m,y,k];
        }
    
        function cmyk2rgb(CMYK) {
            var cyan = Math.max(Math.min(parseInt(CMYK[0], 10) / 255, 1), 0),
            magenta = Math.max(Math.min(parseInt(CMYK[1], 10) / 255, 1), 0),
            yellow = Math.max(Math.min(parseInt(CMYK[2], 10) / 255, 1), 0),
            black = Math.max(Math.min(parseInt(CMYK[3], 10) / 255, 1), 0),
            red = (1 - cyan * (1 - black) - black),
            green = (1 - magenta * (1 - black) - black),
            blue = (1 - yellow * (1 - black) - black);

            return [Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255)];
        }

        function cmyk_to_all(c,m,y,k){
            c = parseFloat(c), m = parseFloat(m), y=parseFloat(y), k = parseFloat(k);
            color_rgb = cmyk2rgb([c,m,y,k]);
            color_hsv = rgb2hsv(color_rgb[0], color_rgb[1], color_rgb[2]);
            color_lab = rgb2lab(color_rgb[0], color_rgb[1], color_rgb[2]);
            return [color_rgb, color_hsv, color_lab];

        }
    </script>

    

    <script type="text/javascript">
        var input = document.getElementsByClassName("picker_hsv");

        for(var i = 0; i<input.length; i++){
            input[i].addEventListener("input", function(){
                var hue = document.getElementById("hue").value,
                    saturation = document.getElementById("saturation").value,
                    value = document.getElementById("value").value;

            
            colors = hsv_to_lab(hue, saturation, value);
            var l = colors[0][0], a = colors[0][1], b = colors[0][2];
            cmyk = rgb2cmyk(colors[1][0],colors[1][1],colors[1][2],colors[1][3]);
            var c = cmyk[0], m=cmyk[1], y=cmyk[2], k=cmyk[3];

            document.getElementById("l_value").value = parseFloat(l).toFixed(2);
            document.getElementById("a_value").value = parseFloat(a).toFixed(2);
            document.getElementById("b_value").value = parseFloat(b).toFixed(2);

            document.getElementById("hue_value").value = hue;
            document.getElementById("saturation_value").value = saturation;
            document.getElementById("val_value").value = value;

            document.getElementById("c_value").value = parseFloat(c).toFixed(2);
            document.getElementById("m_value").value = parseFloat(m).toFixed(2);
            document.getElementById("y_value").value = parseFloat(y).toFixed(2);
            document.getElementById("k_value").value = parseFloat(k).toFixed(2);
            document.getElementById("c").value = c;
            document.getElementById("m").value = m;
            document.getElementById("y").value = y;
            document.getElementById("k").value = k;
            
            document.getElementById("l").value = l;
            document.getElementById("a").value = a;
            document.getElementById("b").value = b;
            
            var display = document.getElementById("display");
            display.style.background = "rgb(" + colors[1][0]+", "+colors[1][1]+", "+colors[1][2]+")";    
            });
        };
    
        
    </script>

    <script type="text/javascript">
    var input = document.getElementsByClassName("picker_cmyk");

    for(var i = 0; i<input.length; i++){
        input[i].addEventListener("input", function(){
            var c = document.getElementById("c").value,
                m = document.getElementById("m").value,
                y = document.getElementById("y").value,
                k = document.getElementById("k").value;


        colors = cmyk_to_all(c*255, m*255, y*255, k*255);
        
        var r = colors[0][0], g = colors[0][1], b = colors[0][2];
        var h = colors[1][0], s = colors[1][1], v = colors[1][2];
        var l = colors[2][0], a = colors[2][1], b_ = colors[2][2];

        document.getElementById("l_value").value = parseFloat(l).toFixed(2);
        document.getElementById("a_value").value = parseFloat(a).toFixed(2);
        document.getElementById("b_value").value = parseFloat(b_).toFixed(2);
        document.getElementById("l").value = l;
        document.getElementById("a").value = a;
        document.getElementById("b").value = b_;

        document.getElementById("hue_value").value = parseFloat(h).toFixed(2);
        document.getElementById("saturation_value").value = parseFloat(s).toFixed(2);
        document.getElementById("val_value").value = parseFloat(v).toFixed(2);
        document.getElementById("hue").value = h
        document.getElementById("saturation").value = s;
        document.getElementById("value").value = v;

        document.getElementById("c_value").value = c;
        document.getElementById("m_value").value = m;
        document.getElementById("y_value").value = y;
        document.getElementById("k_value").value = k;

        
        var display = document.getElementById("display");
        display.style.background = "rgb(" + r+", "+g+", "+b+")";    
        });
    };

    
    </script>


    </script>

</body>
    
</html>